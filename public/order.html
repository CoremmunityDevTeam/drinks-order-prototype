<!DOCTYPE html>
<html data-theme="light">
<head>
    <title>Getränkebestellung</title>
    <link rel="manifest" href="manifest.json" />
    <meta name="viewport" content="width=device-width, initial-scale=1 user-scalable=no">
    <link rel="stylesheet" href="/node_modules/@fortawesome/fontawesome-free/css/fontawesome.css">
    <link rel="stylesheet" href="/node_modules/@fortawesome/fontawesome-free/css/solid.css">
    <link rel="stylesheet" href="/node_modules/@fortawesome/fontawesome-free/css/brands.css">
    <link rel="stylesheet" href="/node_modules/bulma/css/bulma.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="background-container blurry-bg"></div> 
    <div class="content-container" id="contentSection">
        <section class="section">
                <div class="sticky-container">
                    <h1 class="title">Getränkebestellung</h1>
                    <div class="field">
                        <label class="label">Name</label>
                        <div class="control">
                            <p id="name" class="is-size-4 has-text-weight-bold"></p>
                        </div>
                    </div>
                    <a class="button is-transparent is-fullwidth" href="/">
                        <span class="icon">
                            <i class="fas fa-solid fa-circle-arrow-left"></i>
                        </span>
                        <span>Zurück</span>
                    </a>
                    </br>
                    <a id="checkout" class="button is-transparent is-fullwidth">
                        <span class="icon">
                            <i class="fas fa-brands fa-paypal"></i>
                        </span>
                        <span>Bezahlen</span>
                    </a>
                    </br>
                    <p id="totalAmount"><strong>Summe: 0.00 €</strong></p><br>
                    
                    <form id="orderForm">
                        <div class="columns is-mobile is-multiline">
                            <div class="column is-full-mobile">
                                <div class="field">
                                    <label class="label">Getränk</label>
                                    <div class="control">
                                        <div class="select is-fullwidth">
                                            <select id="drink">
                                                <option value="Bier">Bier - 1.80€</option>
                                                <option value="Softgetränk">Softgetränk - 2.50€</option>
                                                <option value="Wasser">Wasser - 1.20€</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="column is-full-mobile">
                                <div class="field">
                                    <div class="control" style="margin-top: 32px;">
                                        <button class="button is-transparent is-fullwidth" type="submit" id="submitButton">
                                            <span class="icon">
                                                <i class="fas fa-solid fa-cart-shopping"></i>
                                            </span>
                                            <span> Bestellen </span>    
                                            
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>


                <div class="table-container">
                    <table class="table is-fullwidth" id="orderTable">
                        <thead>
                            <tr>
                                <th>Getränk</th>
                                <th>Preis</th>
                                <th>Datum</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Dynamisch gefüllte Zeilen -->
                        </tbody>
                    </table>
                </div>
               

                <div class="modal" id="orderConfirmation">
                    <div class="modal-background"></div>
                    <div class="modal-card">
                        <header class="modal-card-head">
                          <p class="modal-card-title">Bestellbestätigung</p>
                          <button class="delete" aria-label="close"></button>
                        </header>
                        <section class="modal-card-body">
                          <span id="confirmationText"></span><br>
                        </section>
                        <footer class="modal-card-foot">
                          <div class="buttons">
                            <button class="button is-success" id="orderConfirmationButton">
                                <span class="icon">
                                    <i class="fas fa-solid fa-cart-shopping"></i>
                                </span>
                                <span> Bestellen </span>    
                            </button>
                            <button class="button is-warning close">
                                <span class="icon">
                                    <i class="fas fa-solid fa-xmark"></i>
                                </span>
                                <span>Abbrechen</span>
                            </button>
                          </div>
                        </footer>
                      </div>
                </div>

                <div class="modal" id="checkoutConfirmation">
                    <div class="modal-background"></div>
                    <div class="modal-card">
                        <header class="modal-card-head">
                          <p class="modal-card-title">Getränke bezahlen</p>
                          <button class="delete" aria-label="close"></button>
                        </header>
                        <section class="modal-card-body">
                          <strong>Möchtest du deine gesamten Getränkebestellungen bezahlen?</strong>
                          <br>
                          <br>
                          <span>Dies ist erst am Ende des Core Treffens nötig, bzw. am letzen Besuchstag für Tagesgäste.</span><br>
                        </section>
                        <footer class="modal-card-foot">
                          <div class="buttons">
                            <button class="button is-success">
                                <a href="/api/checkout" target="_blank" class="noLink">
                                    <span class="icon">
                                        <i class="fas fa-brands fa-paypal"></i>
                                    </span>
                                    <span>Mit PayPal bezahlen</span>    
                                </a>
                            </button>
                            <button class="button is-warning close">
                                <span class="icon">
                                    <i class="fas fa-solid fa-xmark"></i>
                                </span>
                                <span>Zurück</span>
                            </button>
                          </div>
                        </footer>
                      </div>
                </div>          
        </section>
    </div>
    <script src="order-script.js"></script>
</body>
</html>
